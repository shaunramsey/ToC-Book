<?xml version='1.0' encoding='utf-8'?>


<chapter xml:id="ch-dfas" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Determinsitic Finite Automata</title>
  <introduction>
    <p>
      This chapter discusses strategies for understanding finite automata, specifically
      those with a halting accept and halting reject state. While this is a unique approach
      for teaching and learning in theory of computation, we find that this is a more natural way
      for programmers to think about, understand, and ultimately to use finite automata
      in an intuitive way. Specifically in this chapter we will tackle:
    </p>
  </introduction>
  <objectives>
    <ol>
      <li> Sets and a Set Review </li>
      <li> Deterministic Finite Automata (DFA) </li>
      <li> Strategies for understanding Deterministic Finite Automata </li>
      <li> Strategies for drawing Deterministic Finite Automata </li>
    </ol>
  </objectives>

  <section xml:id="Determinism">
    <title>Deterministic Machines</title>
    <subsection>
      <title> Machines </title>
      <p>
        To start off thinking about theory of computation, we need a few base terms that we will use
        in the rest of this book. For the most part, in theory of computation we talk about
        machines. You can think of these automata or machines like functions. They take input in the
        form of a string (an ordered sequence of symbols) and they either accept or reject that
        input. As we continue through the course, we will add more power to the capabilities of
        these machines in the form of memory. At first, the machines can only switch between a
        finite set of states. However, as we progress to other sections of this book, we will allow
        these machines to gain access to different types of infinite memories. Let's look at a few
        important sets that we will need to discuss our automata.
      </p>
      <p>The <idx>Alphabet (<m>\Sigma</m>)</idx> <term>alphabet (<m>\Sigma</m>)</term> is a finite
        set of symbols. Characters in the alphabet can be appended together to create strings. So, a <idx>
        string</idx> <term>string</term> is an ordered list of characters from the alphabet. A
        collection (set) of strings is also known as a <idx>Language (<em>
            <m>L</m>
          </em>)</idx> <term>language (<em>
            <m>L</m>
          </em>)</term>. </p>
      <p> For example, characters <m>a</m>, <m>b</m>, and <m>c</m> are all included in alphabet <m>A</m>
        . <me>A = \{a, b, c\}</me> A language will consist of strings created from this alphabet.
        Order matters. For example <m>S</m> and <m>Q</m> are strings from alphabet <m>A</m> . <me>S
          = baba</me>
        <me>T = aaaaa</me> these example strings may be included in language <m>L_1</m>.
        You might say: <me>S \in L_1</me> which means <m>S</m> is in the language <m>L_1</m>. <m>L_1</m>
        might have other strings in it as well. We would normally list those in one form of set
        notation if required. If <m>L_1</m> consisted of just the two strings above, we could fully
        list them like this: <me>L_1 = \{baba, aaaaa\}</me> A binary string (like <m>1010</m>) would
        require a binary alphabet (<m>\{0,1\}</m>). A sample binary language might be: <me>\{w | w\
        \text{begins with a}\ 1\}</me> This language consists of any binary string that begins with
        a 1. So some sample strings in the language are: 1, 10, 11, 100, 101, 110, 111, 1000, 1001
        (and infinitely more). The following strings would not be in the language: 0, 01, 001, 010,
        011, 0100, 0101 (and also infinitely more). </p>
      <p>As we continue in this book, we will use these terms: alphabet, string, and language quite
        often. Our alphabets are finite sets, the building blocks of everything. Strings are like
        words, an ordered list of characters. Languages are sets of strings. Our languages are often
        infinite (having an unbounded number of strings).
      </p>
    </subsection>

  </section>
  <section xml:id="FiniteAutomata">
    <title>Finite Automata (FA)</title>
    <p><idx>Finite Automata (FA)</idx> <term>Finite Automata (FA) </term> are <idx>State Machine (M)</idx> <term>state
      machines (M)</term>. We use these machines to describe (recognize) a language. They have no
      memory storage outside of their finitly many states. They utilize <idx>States (Q)</idx> <term>states
      (Q)</term> to determine if a given string is accepted or rejected by the machine. You may also
      say that the FA determines if a string exists in the language of the machine. States do track
      a kind of finite memory by their position. States are represented using circles and machines
      are made up of states and arrows connecting them. Finite automata have an entry point - so
      there is also one arrow without a beginning state. This arrow points to the start state which
      is where the machine will begin processing its input. In our machines there may also be a halt
      and accept state. It will be denoted with <m>h_a</m> encased in two circles. A halt and reject
      state (<m>h_r</m>) may also be present inside a circle within a circle. This is best described
      alongside diagrams and images. So, the diagrams below will help. </p>
    <p>
      <!-- TODO make an aside here--> Unlike the finite automata presented in this book, a traditional finite automata will not
      have halt states. Traditionally an FA will operate continuously (imagine a red light or a
      vending machine that takes coins). Such a finite automata will not have halt states, but
      instead will have states represented by a circle withing a circle. Such states are accept
      states. When an automata finishes processing an input string, it will accept if it is in an
      accept state (state with a double circle), otherwise it will reject the input string. The
      approach presented in this book is beneficial because it operates more closely to how you
      would program software to operate. For example, a language that only needs to look at the
      first symbol of an input string, could immediately halt and accept or halt and reject based on
      that symbol. If your need does not include processing the whole string, then we do not bother
      in the model presented in this book. </p>
    <!-- TODO: I would like to try and make animations to show this next part instead of writing it
    out. -->
    <figure xml:id="FAExM1figure">
      <caption>A simple finite automata</caption>
      <image xml:id="RFAxM1" width="50%">
        <latex-image>

          \begin{tikzpicture}[scale=0.2]
          \tikzstyle{every node}+=[inner sep=0pt]
          \draw [black] (15.1,-15.9) circle (3);
          \draw (15.1,-15.9) node {$A$};
          \draw [black] (31.8,-15.9) circle (3);
          \draw (31.8,-15.9) node {$B$};
          \draw [black] (40.4,-24.1) circle (3);
          \draw (40.4,-24.1) node {$ha$};
          \draw (36.5, -19.5) node [above] {$\backslash 0$};
          \draw [black] (40.4,-24.1) circle (2.4);
          \draw [black] (17.098,-13.677) arc (129.44953:50.55047:9.997);
          \fill [black] (29.8,-13.68) -- (29.5,-12.78) -- (28.87,-13.56);
          \draw (23.45,-10.9) node [above] {$1$};
          \draw [black] (29.707,-18.035) arc (-52.74395:-127.25605:10.336);
          \fill [black] (17.19,-18.03) -- (17.53,-18.92) -- (18.13,-18.12);
          \draw (23.45,-20.64) node [below] {$1$};
          \draw [black] (33.712,-13.603) arc (167.96249:-120.03751:2.25);
          \draw (38.69,-12.17) node [right] {$0$};
          \fill [black] (34.79,-16.02) -- (35.46,-16.68) -- (35.67,-15.7);
          \draw [black] (13.231,-18.232) arc (-10.98311:-298.98311:2.25);
          \draw (8.27,-19.79) node [left] {$0$};
          \fill [black] (12.11,-15.83) -- (11.42,-15.19) -- (11.23,-16.17);
          \draw [black] (8.8,-7.8) -- (13.26,-13.53);
          \draw (7.11,-7.3) node [above] {$M_1$};
          \fill [black] (13.26,-13.53) -- (13.16,-12.59) -- (12.37,-13.21);
          \draw [black] (33.97,-17.97) -- (38.23,-22.03);
          \fill [black] (38.23,-22.03) -- (37.99,-21.12) -- (37.3,-21.84);
          \draw (35.04,-20.48) node [below] {$~$};
          \end{tikzpicture}

        </latex-image>
      </image>
    </figure>

    <p> Say there is a string <m>S = 110</m>. After following the arrows to parse through <m>S</m>,
      it would be accepted by <m>M_1</m> as it finished on the accept state. We now know that <m>S
      \in L(M_1)</m>, but what is <m>L(M_1)</m>? </p>
    <p> Lanugages can be described using plain language, expressions, set notation, or FAs. The
      following all represent the same language. <ul>
        <li>
          <me>L_2 = \mbox{any string that ends with 01}</me>
        </li>
        <li>
          <me>L_2 = {s01 | \mbox{where s is a string made of any number of 0s and 1s}}</me>
        </li>
        <li>
          <image xml:id="RFAxM2" width="50%">
            <latex-image>
              \begin{tikzpicture}[scale=0.2]
              \tikzstyle{every node}+=[inner sep=0pt]
              \draw [black] (11.8,-10) circle (3);
              \draw (11.8,-10) node {$A$};
              \draw [black] (21.9,-10) circle (3);
              \draw (21.9,-10) node {$B$};
              \draw [black] (36.6,-10) circle (3);
              \draw (36.6,-10) node {$C$};
              \draw [black] (46,-16.1) circle (3);
              \draw (46,-16.1) node {$ha$};
              \draw [black] (46,-16.1) circle (2.4);
              \draw [black] (11.282,-12.943) arc (17.74616:-270.25384:2.25);
              \draw (6.8,-15.94) node [below] {$1$};
              \fill [black] (9.15,-11.38) -- (8.23,-11.15) -- (8.54,-12.1);
              \draw [black] (5.2,-5.6) -- (9.3,-8.34);
              \draw (4.59,-4.27) node [left] {$M_2$};
              \fill [black] (9.3,-8.34) -- (8.92,-7.48) -- (8.36,-8.31);
              \draw [black] (21.316,-7.069) arc (218.99287:-69.00713:2.25);
              \draw (24.42,-2.92) node [above] {$0$};
              \fill [black] (23.87,-7.75) -- (24.81,-7.64) -- (24.18,-6.86);
              \draw [black] (24.565,-8.637) arc (110.62819:69.37181:13.298);
              \fill [black] (33.93,-8.64) -- (33.36,-7.89) -- (33.01,-8.82);
              \draw (29.25,-7.28) node [above] {$1$};
              \draw [black] (34.001,-11.483) arc (-67.2871:-112.7129:12.303);
              \fill [black] (24.5,-11.48) -- (25.04,-12.25) -- (25.43,-11.33);
              \draw (29.25,-12.94) node [below] {$0$};
              \draw [black] (35,-12.531) arc (-38.51753:-141.48247:13.804);
              \fill [black] (13.4,-12.53) -- (13.51,-13.47) -- (14.29,-12.85);
              \draw (24.2,-18.24) node [below] {$1$};
              \draw [black] (14.722,-9.338) arc (97.50195:82.49805:16.302);
              \fill [black] (18.98,-9.34) -- (18.25,-8.74) -- (18.12,-9.73);
              \draw (16.85,-8.7) node [above] {$0$};
              \draw [black] (39.12,-11.63) -- (43.48,-14.47);
              \fill [black] (43.48,-14.47) -- (43.08,-13.61) -- (42.54,-14.45);
              \end{tikzpicture}
            </latex-image>
          </image>

        </li>
      </ul>
    </p>
    <p> One way to start to understand the language of a FA is by creating test strings from
      characters in the given alphabet and checking them using a given machine. For <m>M_2</m>, test
      strings could include 000, 01, 11011, and 100001. By tracing through <m>M_2</m> with each of
      these four string separately, we see that it accepts the second and fourth strings, the only
      ones ending in 01. This is a straight-forward example, and many more test strings could be
      needed to determine the languages of other machines. When wrapping our mind around state
      machines in this way, it is helpful to think about what each state is representing. Sometimes
      it is acquired by a sequence like "have seen a 0 followed by a 1." Sometimes it remembers a
      modulus of sorts like "seen an even number of 0s" or "seen a binary string that represents a
      number divisible by 3". Practice with these machines and languages will help acquire this
      skill and insight but later in the book we will see some other methods for translating
      machines to expressions which might be useful in this endeavor when the machines are
      complicated, although although those expressions are often more complicated than the machines
      themselves! </p>
  </section>
  <section xml:id="DFAs">
    <title>Deterministic Finite Automata (DFA)</title>
    <introduction>
      <p><idx>Deterministic Finitie Automata (DFA)</idx> <term> Determinisitic Finite Automatas (DFA)</term>
        are FAs where the outcome of each possible change of state is defined. When trying to
        categorize a FA as deterministic, we can look to see if all characters in the alphabet are
        accounted for at each state. We can look again at <m>M_1</m> shown in <xref
          ref="FAExM1figure" />
      </p>
      <!-- <image source="../generated/latex-image/FAExM1.svg" width="50%">
      </image> -->

      <!--TODO:
    again I would like to figure out how to make animations for this next part-->
      <p> The alphabet of <m>M_1</m> includes 0 and 1. When at the start state <m>A</m>, if a 0 is
        read, we stay at <m>A</m> and if a 1 is read, we move to <m>B</m>. Each possibility is
        accounted for. When in state <m>B</m>, if a 0 is read, we stay at <m>B</m> and if a 1 is
        read, we move to <m>A</m>. Since there is a definied path for each potential character at
        each state, then the FA is deterministic, or a DFA. </p>
      <p>
        Looking at this in chart form is a helpful way to check for determinism. As there is an
        entry
        for each potential character
        at each state, the FA is deterministic.
      </p>
      <sidebyside>
        <table xml:id="DFADeterminismTable">
          <title>Determinism Chart for <m>M_1</m></title>
          <tabular>
            <row header="yes">
              <cell right="medium" bottom="minor"> </cell>
              <cell bottom="minor">1</cell>
              <cell bottom="minor">0</cell>
            </row>
            <row header="no">
              <cell right="medium">
                <m>A</m>
              </cell>
              <cell>
                <m>A</m>
              </cell>
              <cell>
                <m>B</m>
              </cell>
            </row>
            <row header="no">
              <cell right="medium">
                <m>B</m>
              </cell>
              <cell>
                <m>B</m>
              </cell>
              <cell>
                <m>A</m>
              </cell>
            </row>
          </tabular>
        </table>
      </sidebyside>
    </introduction>

    <subsection>
      <!-- todo: Should determinism come before finite automata and the explinantion of states? I
      feel like 
      explaining vocabularly, examples of languages in CS terms students would know at this point, and 
      some sort of example of how to think about these concepts could be useful to provide background
      before going into states and automata and determinism. I am also a little confused as to how to
      explain
      determinism at this point. -->
      <title>Deterministic</title>
      <p>
        <idx>Determinisim</idx> <term>Determinisim</term> means that all transitions of state are
        unique and completely defined. For example, when we are in a specific state, if there are
        two possible exits for that state when a character is read, that would not be deterministic
        because after reading that input symbol, our machine would need to be in two states. Thus,
        our machine would either need to 'make a guess' as to which state is the one that will lead
        it to success or it must execute two paths in parallel. Later we will see that we can use
        empty string transitions to freely jump to another state. </p>
    </subsection>
  </section>
  <section>
    <title> Strategies for Understanding DFAs</title>
    <p> TODO </p>
  </section>
  <section>
    <title> Strategies for Drawing DFAs </title>
    <p> TODO </p>
  </section>

  <exercises xml:id="ch-dfas-exercises">
    <exercise>
      <statement>
        <p> What is the language of <m>M_3</m>? </p>

        <image xml:id="FAExM3" width="50%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (27,-14.6) circle (3);
            \draw (27,-14.6) node {$A$};
            \draw [black] (27,-14.6) circle (2.4);
            \draw [black] (46.6,-14.6) circle (3);
            \draw (46.6,-14.6) node {$B$};
            \draw [black] (40.9,-27.4) circle (3);
            \draw (40.9,-27.4) node {$C$};
            \draw [black] (25.635,-17.258) arc (0.54272:-287.45728:2.25);
            \draw (21,-20.01) node [left] {$0$};
            \fill [black] (24.06,-15.13) -- (23.25,-14.64) -- (23.26,-15.64);
            \draw [black] (20.1,-7.8) -- (24.86,-12.49);
            \draw (19.57,-6.33) node [left] {$M_3$};
            \fill [black] (24.86,-12.49) -- (24.64,-11.58) -- (23.94,-12.29);
            \draw [black] (29.685,-13.269) arc (111.87259:68.12741:19.098);
            \fill [black] (43.91,-13.27) -- (43.36,-12.51) -- (42.99,-13.43);
            \draw (36.8,-11.39) node [above] {$1$};
            \draw [black] (43.752,-15.538) arc (-74.9727:-105.0273:26.813);
            \fill [black] (29.85,-15.54) -- (30.49,-16.23) -- (30.75,-15.26);
            \draw (36.8,-16.96) node [below] {$1$};
            \draw [black] (46.987,-17.566) arc (-0.3161:-47.69191:11.087);
            \fill [black] (43.36,-25.7) -- (44.29,-25.53) -- (43.62,-24.8);
            \draw (46.75,-23.01) node [right] {$0$};
            \draw [black] (40.8,-24.408) arc (-184.6807:-223.32731:13.036);
            \fill [black] (44.31,-16.53) -- (43.4,-16.77) -- (44.12,-17.45);
            \draw (41.16,-19.18) node [left] {$0$};
            \draw [black] (38.018,-28.19) arc (313.05731:25.05731:2.25);
            \draw (33.54,-25.82) node [left] {$1$};
            \fill [black] (38.52,-25.59) -- (38.34,-24.67) -- (37.61,-25.35);
            \end{tikzpicture}
          </latex-image>
        </image>
      </statement>
      <!--TODO:
      I choose to include the extra example and such here as it was included in the notes, we may
      want to shift
      its placement around at some point. I think it has real value as a chapter example or as a
      challenge problem.-->
      <hint>
        <p> Come up with ten strings in the language of <m>M_3</m>.</p>
        <table>
          <title>TODO</title>


          <tabular>
            <row>
              <cell right="minor">1</cell>
              <cell>0</cell>
            </row>
            <row>
              <cell right="minor">2</cell>
              <cell>101101</cell>
            </row>
            <row>
              <cell right="minor">3</cell>
              <cell>
                <m>\epsilon</m>
              </cell>
            </row>
            <row>
              <cell right="minor">4</cell>
              <cell>010101</cell>
            </row>
            <row>
              <cell right="minor">5</cell>
              <cell>0000</cell>
            </row>
            <row>
              <cell right="minor">6</cell>
              <cell>011</cell>
            </row>
            <row>
              <cell right="minor">7</cell>
              <cell>10010</cell>
            </row>
            <row>
              <cell right="minor">8</cell>
              <cell>111001</cell>
            </row>
            <row>
              <cell right="minor">9</cell>
              <cell>1001</cell>
            </row>
            <row>
              <cell right="minor">10</cell>
              <cell>0110</cell>
            </row>
          </tabular>
        </table>

        <p> Come up with ten strings NOT in the language of <m>M_3</m>. </p>
        <table>
          <title>TODO</title>
          <tabular>
            <row>
              <cell right="minor">1</cell>
              <cell>1</cell>
            </row>
            <row>
              <cell right="minor">2</cell>
              <cell>100</cell>
            </row>
            <row>
              <cell right="minor">3</cell>
              <cell>10</cell>
            </row>
            <row>
              <cell right="minor">4</cell>
              <cell>10001</cell>
            </row>
            <row>
              <cell right="minor">5</cell>
              <cell>1011</cell>
            </row>
            <row>
              <cell right="minor">6</cell>
              <cell>11111</cell>
            </row>
            <row>
              <cell right="minor">7</cell>
              <cell>101</cell>
            </row>
            <row>
              <cell right="minor">8</cell>
              <cell>1101</cell>
            </row>
            <row>
              <cell right="minor">9</cell>
              <cell>10110</cell>
            </row>
            <row>
              <cell right="minor">10</cell>
              <cell>001</cell>
            </row>
          </tabular>
        </table>

        <p>
          Do you see any patterns?
        </p>
      </hint>
      <answer>
        <p>
          <me>L(M_3) = \mbox{the empty string and all binary strings divisible by 3}</me>
        </p>
      </answer>
      <solution>
        <p> It is helpful to look at patterns beyond those that are obvious and to consider ones
          that require a certain level of interpretation. Consider the test string lists from the
          hint, but this time the decimal number is included.</p>
        <table>
          <title> TODO </title>
          <tabular>
            <row>
              <cell>1</cell>
              <cell>0</cell>
              <cell>(0)</cell>
            </row>
            <row>
              <cell>2</cell>
              <cell>101101</cell>
              <cell>(45)</cell>
            </row>
            <row>
              <cell>3</cell>
              <cell>
                <m>\epsilon</m>
              </cell>
              <cell>_</cell>
            </row>
            <row>
              <cell>4</cell>
              <cell>010101</cell>
              <cell>(21)</cell>
            </row>
            <row>
              <cell>5</cell>
              <cell>0000</cell>
              <cell>(0)</cell>
            </row>
            <row>
              <cell>6</cell>
              <cell>011</cell>
              <cell>(3)</cell>
            </row>
            <row>
              <cell>7</cell>
              <cell>10010</cell>
              <cell>(18)</cell>
            </row>
            <row>
              <cell>8</cell>
              <cell>111001</cell>
              <cell>(57)</cell>
            </row>
            <row>
              <cell>9</cell>
              <cell>1001</cell>
              <cell>(9)</cell>
            </row>
            <row>
              <cell>10</cell>
              <cell>0110</cell>
              <cell>(6)</cell>
            </row>
          </tabular>
        </table>

      </solution>
    </exercise>
    <exercise>
      <statement>
        <p> What is the language of <m>M_4</m>? </p>
        <image xml:id="FAExM4" width="50%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (19.4,-13.7) circle (3);
            \draw (19.4,-13.7) node {$A$};
            \draw [black] (37.4,-12.6) circle (3);
            \draw (37.4,-12.6) node {$B$};
            \draw [black] (30.2,-24.6) circle (3);
            \draw (30.2,-24.6) node {$C$};
            \draw [black] (30.2,-24.6) circle (2.4);
            \draw [black] (11.8,-9.4) -- (16.79,-12.22);
            \draw (11.14,-8.18) node [left] {$M_4$};
            \fill [black] (16.79,-12.22) -- (16.34,-11.39) -- (15.85,-12.26);
            \draw [black] (22.099,-12.398) arc (111.50072:75.4934:20.198);
            \fill [black] (34.56,-11.64) -- (33.91,-10.95) -- (33.66,-11.92);
            \draw (28.2,-10.47) node [above] {$0$};
            \draw [black] (36.561,-15.478) arc (-20.17317:-41.75434:21.888);
            \fill [black] (32.34,-22.51) -- (33.25,-22.24) -- (32.5,-21.58);
            \draw (35.43,-20.45) node [right] {$1$};
            \draw [black] (27.759,-26.323) arc (-27.05079:-315.05079:2.25);
            \draw (22.83,-25.86) node [left] {$0,\mbox{ }1$};
            \fill [black] (27.35,-23.71) -- (26.86,-22.9) -- (26.41,-23.79);
            \draw [black] (18.372,-16.506) arc (7.6156:-280.3844:2.25);
            \draw (13.98,-19.83) node [left] {$1$};
            \fill [black] (16.55,-14.59) -- (15.69,-14.2) -- (15.82,-15.19);
            \draw [black] (40.35,-12.124) arc (126.89727:-161.10273:2.25);
            \draw (44.62,-15.21) node [right] {$0$};
            \fill [black] (39.57,-14.65) -- (39.65,-15.59) -- (40.45,-14.99);
            \end{tikzpicture}
          </latex-image>
        </image>
      </statement>
      <hint>
        <p>
          Come up with a few test strings. See any patterns? Focus on the plain language
          description.
        </p>
      </hint>
      <answer>
        <p>
          <me>L(M_5) = \mbox{any string that contains 01}</me>
        </p>
      </answer>
      <solution>
        <p>
          <ul>
            <li>A great first step is to walk through the shortest path to the accept state. This
              would be 01.</li>
            <li>It is also helpful to think about the longest possible path to the accept state or
              the longest string that would still be accepted. For <m>M_5</m>, that is any number of
              1s, followed by at least one 0, followed by at least one 1, and can have any amount of
              0s and 1s after that. At least one 0 and at least one 1 is required for <m>M_5</m> to
              accept.</li>
            <li>Another note, the string <q>01</q> must be included as a 1 must come after a 0 to
              get to the accept state <m>C</m>.</li>
          </ul>
        </p>
      </solution>
    </exercise>
    <exercise>
      <statement>
        <p> Build a machine for language 5 (<m>L_5</m>). <me>L_5 = \mbox{any number of }01 \mbox{
          repeated}</me>
          <!--TODO:
          Is it called a drop state? I would like to add in the drop state before this point.-->
        </p>
      </statement>
      <answer>

        <image xml:id="FAExM5" width="50%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (19.4,-13.7) circle (3);
            \draw (19.4,-13.7) node {$A$};
            \draw [black] (37.1,-14.7) circle (3);
            \draw (37.1,-14.7) node {$B$};
            \draw [black] (51.9,-15.4) circle (3);
            \draw (51.9,-15.4) node {$C$};
            \draw [black] (51.9,-15.4) circle (2.4);
            \draw [black] (37.8,-31.7) circle (3);
            \draw (37.8,-31.7) node {$\emptyset$};
            \draw [black] (11.8,-9.4) -- (16.79,-12.22);
            \draw (11.14,-8.18) node [left] {$M_5$};
            \fill [black] (16.79,-12.22) -- (16.34,-11.39) -- (15.85,-12.26);
            \draw [black] (22.228,-12.708) arc (104.92986:68.60291:19.557);
            \fill [black] (34.4,-13.4) -- (33.84,-12.64) -- (33.47,-13.57);
            \draw (28.43,-11.53) node [above] {$0$};
            \draw [black] (39.909,-13.661) arc (104.75319:69.83097:15.501);
            \fill [black] (49.2,-14.1) -- (48.62,-13.36) -- (48.28,-14.29);
            \draw (44.63,-12.62) node [above] {$1$};
            \draw [black] (36.771,-28.884) arc (-163.60427:-191.67992:23.3);
            \fill [black] (36.77,-28.88) -- (37.02,-27.98) -- (36.07,-28.26);
            \draw (35.28,-23.28) node [left] {$0$};
            \draw [black] (35.256,-30.11) arc (-123.6229:-145.11791:53.303);
            \fill [black] (35.26,-30.11) -- (34.87,-29.25) -- (34.31,-30.08);
            \draw (26.48,-24.31) node [below] {$1$};
            \draw [black] (40.762,-31.303) arc (125.36378:-162.63622:2.25);
            \draw (44.96,-34.57) node [right] {$0,1$};
            \fill [black] (39.92,-33.81) -- (39.97,-34.75) -- (40.79,-34.17);
            \draw [black] (49.128,-16.532) arc (-73.74384:-111.672:14.439);
            \fill [black] (39.75,-16.09) -- (40.31,-16.85) -- (40.68,-15.92);
            \draw (44.36,-17.64) node [below] {$0$};
            \draw [black] (50.819,-18.197) arc (-24.21765:-57.50397:27.771);
            \fill [black] (40.41,-30.23) -- (41.36,-30.22) -- (40.82,-29.38);
            \draw (47.04,-26.42) node [right] {$1$};
            \end{tikzpicture}
          </latex-image>
        </image>

      </answer>
    </exercise>
    <exercise>
      <statement>
        <p> What is the language of <m>M_6</m>? </p>

        <image xml:id="FAExM6" width="50%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (18.9,-17.8) circle (3);
            \draw (18.9,-17.8) node {$A$};
            \draw [black] (37.1,-14.7) circle (3);
            \draw (37.1,-14.7) node {$B$};
            \draw [black] (52.9,-20.2) circle (3);
            \draw (52.9,-20.2) node {$C$};
            \draw [black] (52.9,-20.2) circle (2.4);
            \draw [black] (37.8,-31.7) circle (3);
            \draw (37.8,-31.7) node {$\emptyset$};
            \draw [black] (11.3,-13.5) -- (16.29,-16.32);
            \draw (10.64,-12.28) node [left] {$M_6$};
            \fill [black] (16.29,-16.32) -- (15.84,-15.49) -- (15.35,-16.36);
            \draw [black] (21.605,-16.507) arc (112.53683:86.79597:28.494);
            \fill [black] (34.12,-14.38) -- (33.35,-13.83) -- (33.29,-14.83);
            \draw (27.29,-14.14) node [above] {$b$};
            \draw [black] (40.096,-14.606) arc (87.3936:54.22026:19.501);
            \fill [black] (50.61,-18.27) -- (50.25,-17.39) -- (49.67,-18.2);
            \draw (46.48,-15.14) node [above] {$a$};
            \draw [black] (55.58,-18.877) arc (144:-144:2.25);
            \draw (60.15,-20.2) node [right] {$a,b$};
            \fill [black] (55.58,-21.52) -- (55.93,-22.4) -- (56.52,-21.59);
            \draw [black] (36.771,-28.884) arc (-163.60427:-191.67992:23.3);
            \fill [black] (36.77,-28.88) -- (37.02,-27.98) -- (36.07,-28.26);
            \draw (35.28,-23.28) node [left] {$b$};
            \draw [black] (35.038,-30.53) arc (-114.88949:-137.77574:44.419);
            \fill [black] (35.04,-30.53) -- (34.52,-29.74) -- (34.1,-30.65);
            \draw (26.47,-26.52) node [below] {$a$};
            \draw [black] (40.762,-31.303) arc (125.36378:-162.63622:2.25);
            \draw (44.96,-34.57) node [right] {$a,b$};
            \fill [black] (39.92,-33.81) -- (39.97,-34.75) -- (40.79,-34.17);
            \end{tikzpicture}
          </latex-image>
        </image>
      </statement>
      <hint>
        <p>
          Machines can have other alphabets. What is the alphabet of this machine's language?
        </p>
      </hint>
      <answer>
        <p>
          <me>L(M_7) = \mbox{any string that starts with } ba \mbox{ followed by any amount of } a
            \mbox{s and } b \mbox{s}</me>
        </p>
      </answer>
    </exercise>
    <exercise>
      <statement>
        <p> Use the diagram below to create a DFA that can track mod 7 for any binary number. </p>
        <image xml:id="DFA-M26" width="50%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (15.3,-22.6) circle (3);
            \draw (15.3,-22.6) node {$0$};
            \draw [black] (26.4,-12.8) circle (3);
            \draw (26.4,-12.8) node {$1$};
            \draw [black] (44.5,-14.4) circle (3);
            \draw (44.5,-14.4) node {$2$};
            \draw [black] (35.7,-22.4) circle (3);
            \draw (35.7,-22.4) node {$4$};
            \draw [black] (36.2,-31.6) circle (3);
            \draw (36.2,-31.6) node {$5$};
            \draw [black] (26.6,-42.2) circle (3);
            \draw (26.6,-42.2) node {$3$};
            \draw [black] (50,-42.4) circle (3);
            \draw (50,-42.4) node {$6$};
            \end{tikzpicture}
          </latex-image>
        </image>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Translate this FA into a complete English description.
        </p>

        <image xml:id="FAExM27" width="60%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (17.6,-13.4) circle (3);
            \draw [black] (33.9,-13.7) circle (3);
            \draw [black] (50.1,-13.8) circle (3);
            \draw [black] (50.1,-13.8) circle (2.4);
            \draw [black] (28.3,-26.5) circle (3);
            \draw (28.3,-26.5) node {$\emptyset$};
            \draw [black] (12,-8.3) -- (15.38,-11.38);
            \fill [black] (15.38,-11.38) -- (15.13,-10.47) -- (14.45,-11.21);
            \draw [black] (20.16,-11.848) arc (114.60583:63.28536:12.98);
            \fill [black] (31.4,-12.06) -- (30.91,-11.25) -- (30.46,-12.14);
            \draw (25.81,-10.15) node [above] {$b$};
            \draw [black] (36.558,-12.32) arc (111.55016:67.74249:14.611);
            \fill [black] (47.46,-12.39) -- (46.91,-11.62) -- (46.53,-12.55);
            \draw (42.02,-10.79) node [above] {$a$};
            \draw [black] (52.372,-11.859) arc (158.24675:-129.75325:2.25);
            \draw (57.4,-11.67) node [right] {$a$};
            \fill [black] (53.02,-14.42) -- (53.58,-15.18) -- (53.95,-14.25);
            \draw [black] (48.938,-16.562) arc (-27.3246:-92.22791:19.047);
            \fill [black] (31.28,-26.85) -- (32.06,-27.38) -- (32.1,-26.38);
            \draw (42.6,-24.78) node [below] {$b$};
            \draw [black] (33.817,-16.694) arc (-7.31977:-39.93898:14.99);
            \fill [black] (30.44,-24.41) -- (31.34,-24.11) -- (30.57,-23.47);
            \draw (33.41,-21.77) node [right] {$b$};
            \draw [black] (26.073,-28.492) arc (-20.46009:-308.46009:2.25);
            \draw (21.03,-28.85) node [left] {$a,b$};
            \fill [black] (25.36,-25.94) -- (24.79,-25.2) -- (24.44,-26.13);
            \draw [black] (20.405,-14.448) arc (63.50736:14.97612:14.287);
            \fill [black] (27.83,-23.54) -- (28.11,-22.64) -- (27.14,-22.9);
            \draw (25.65,-16.77) node [right] {$a$};
            \end{tikzpicture}
          </latex-image>
        </image>
      </statement>
      <answer>
        <p>
          <m>L = \mbox{\{any string that begins with a } b \mbox{ and is followed by one or more } a
            \mbox{s and no more } b\mbox{s \}}</m>
        </p>
      </answer>
    </exercise>
    <exercise>
      <statement>
        <p>
          Translate this FA into a complete English description.
        </p>

        <image xml:id="FAExM29" width="60%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (21.4,-12.9) circle (3);
            \draw [black] (37.7,-12.9) circle (3);
            \draw [black] (52.3,-12.9) circle (3);
            \draw [black] (52.3,-12.9) circle (2.4);
            \draw [black] (29.3,-23.7) circle (3);
            \draw (29.3,-23.7) node {$\emptyset$};
            \draw [black] (15.6,-7.2) -- (19.26,-10.8);
            \fill [black] (19.26,-10.8) -- (19.04,-9.88) -- (18.34,-10.59);
            \draw [black] (24.227,-11.904) arc (105.17525:74.82475:20.334);
            \fill [black] (34.87,-11.9) -- (34.23,-11.21) -- (33.97,-12.18);
            \draw (29.55,-10.7) node [above] {$q$};
            \draw [black] (40.503,-11.843) arc (105.54298:74.45702:16.781);
            \fill [black] (49.5,-11.84) -- (48.86,-11.15) -- (48.59,-12.11);
            \draw (45,-10.73) node [above] {$a$};
            \draw [black] (55.243,-12.381) arc (127.7398:-160.2602:2.25);
            \draw (59.55,-15.37) node [right] {$a$};
            \fill [black] (54.5,-14.92) -- (54.6,-15.86) -- (55.39,-15.25);
            \draw [black] (49.554,-14.094) arc (-72.25096:-107.74904:14.937);
            \fill [black] (40.45,-14.09) -- (41.06,-14.81) -- (41.36,-13.86);
            \draw (45,-15.31) node [below] {$q$};
            \draw [black] (36.399,-15.59) arc (1.91902:-286.08098:2.25);
            \draw (31.81,-18.46) node [left] {$q$};
            \fill [black] (34.77,-13.5) -- (33.96,-13.03) -- (33.99,-14.03);
            \draw [black] (26.522,-22.596) arc (-120.01519:-167.61525:10.307);
            \fill [black] (26.52,-22.6) -- (26.08,-21.76) -- (25.58,-22.63);
            \draw (22.78,-21.14) node [left] {$a$};
            \draw [black] (31.98,-22.377) arc (144:-144:2.25);
            \draw (36.55,-23.7) node [right] {$a,q$};
            \fill [black] (31.98,-25.02) -- (32.33,-25.9) -- (32.92,-25.09);
            \end{tikzpicture}
          </latex-image>
        </image>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Translate this FA into an English description.
        </p>

        <image xml:id="FAExM32" width="60%">
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (15.1,-12.5) circle (3);
            \draw [black] (15.1,-12.5) circle (2.4);
            \draw [black] (34.6,-14.6) circle (3);
            \draw [black] (23.9,-23.6) circle (3);
            \draw [black] (42.4,-26) circle (3);
            \draw [black] (9.1,-6.9) -- (12.91,-10.45);
            \fill [black] (12.91,-10.45) -- (12.66,-9.54) -- (11.98,-10.27);
            \draw [black] (17.803,-11.208) arc (110.27092:57.43583:16.312);
            \fill [black] (17.8,-11.21) -- (18.73,-11.4) -- (18.38,-10.46);
            \draw (25.42,-9.71) node [above] {$0$};
            \draw [black] (24.188,-20.629) arc (-195.53398:-264.33019:8.599);
            \fill [black] (31.62,-14.37) -- (30.78,-13.96) -- (30.88,-14.95);
            \draw (25.93,-15.86) node [above] {$0$};
            \draw [black] (33.523,-17.391) arc (-28.33649:-71.52769:11.873);
            \fill [black] (26.83,-23.02) -- (27.75,-23.24) -- (27.44,-22.29);
            \draw (31.72,-21.33) node [below] {$1$};
            \draw [black] (37.227,-16.034) arc (54.42284:14.33785:12.371);
            \fill [black] (37.23,-16.03) -- (37.59,-16.91) -- (38.17,-16.09);
            \draw (40.84,-17.76) node [right] {$0$};
            \draw [black] (39.482,-26.689) arc (-80.54165:-114.24172:22.502);
            \fill [black] (39.48,-26.69) -- (38.61,-26.33) -- (38.78,-27.31);
            \draw (32.59,-27.4) node [below] {$1$};
            \draw [black] (45.372,-26.313) arc (111.72436:-176.27564:2.25);
            \draw (48.73,-30.9) node [right] {$1$};
            \fill [black] (43.96,-28.55) -- (43.79,-29.48) -- (44.72,-29.11);
            \draw [black] (21.059,-22.667) arc (-116.21343:-166.97232:10.701);
            \fill [black] (21.06,-22.67) -- (20.56,-21.87) -- (20.12,-22.76);
            \draw (16.84,-21.13) node [left] {$1$};
            \draw [black] (14.247,-15.364) arc (11.15528:-276.84472:2.25);
            \draw (9.49,-17.93) node [below] {$0$};
            \fill [black] (12.31,-13.57) -- (11.43,-13.23) -- (11.62,-14.21);
            \end{tikzpicture}
          </latex-image>
        </image>

      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Translate this FA into a complete English description.
        </p>

        <image xml:id="FAEx38" width='50%'>
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (21.9,-13) circle (3);
            \draw [black] (53.4,-12.4) circle (3);
            \draw [black] (53.4,-12.4) circle (2.4);
            \draw [black] (36.9,-12.3) circle (3);
            \draw [black] (14.6,-7.4) -- (19.52,-11.17);
            \fill [black] (19.52,-11.17) -- (19.19,-10.29) -- (18.58,-11.08);
            \draw [black] (24.526,-11.561) arc (112.63439:72.70934:14.112);
            \fill [black] (34.15,-11.11) -- (33.54,-10.4) -- (33.24,-11.35);
            \draw (29.22,-9.91) node [above] {$0,1$};
            \draw [black] (39.742,-11.346) arc (104.49547:74.81004:21.136);
            \fill [black] (50.57,-11.41) -- (49.93,-10.72) -- (49.67,-11.68);
            \draw (45.16,-10.17) node [above] {$1$};
            \draw [black] (37.857,-15.131) arc (46.40536:-241.59464:2.25);
            \draw (35.47,-19.65) node [below] {$0,1$};
            \fill [black] (35.23,-14.78) -- (34.32,-15.02) -- (35.05,-15.71);
            \draw [black] (54.723,-15.08) arc (54:-234:2.25);
            \draw (53.4,-19.65) node [below] {$1$};
            \fill [black] (52.08,-15.08) -- (51.2,-15.43) -- (52.01,-16.02);
            \end{tikzpicture}
          </latex-image>
        </image>

      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Give an English description of the language of the following FA:
        </p>

        <image xml:id="FAExM41" width='50%'>
          <latex-image>
            \begin{tikzpicture}[scale=0.2]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (16.8,-20.2) circle (3);
            \draw [black] (32.3,-20.2) circle (3);
            \draw [black] (48.5,-20.2) circle (3);
            \draw [black] (48.5,-20.2) circle (2.4);
            \draw [black] (19.734,-19.582) arc (99.07823:80.92177:30.52);
            \fill [black] (29.37,-19.58) -- (28.65,-18.96) -- (28.5,-19.95);
            \draw (24.55,-18.7) node [above] {$1$};
            \draw [black] (35.238,-19.599) arc (98.97002:81.02998:33.107);
            \fill [black] (45.56,-19.6) -- (44.85,-18.98) -- (44.69,-19.97);
            \draw (40.4,-18.69) node [above] {$1$};
            \draw [black] (34.757,-21.9) arc (83.0546:-204.9454:2.25);
            \draw (37.32,-26.6) node [below] {$0,1$};
            \fill [black] (32.45,-23.18) -- (31.85,-23.92) -- (32.84,-24.04);
            \draw [black] (51.428,-20.795) arc (106.24215:-181.75785:2.25);
            \draw (54.41,-25.74) node [right] {$0,1$};
            \fill [black] (49.81,-22.89) -- (49.55,-23.79) -- (50.51,-23.51);
            \draw [black] (10.3,-15.2) -- (14.42,-18.37);
            \fill [black] (14.42,-18.37) -- (14.09,-17.49) -- (13.48,-18.28);
            \end{tikzpicture}
          </latex-image>
        </image>

      </statement>
    </exercise>
  </exercises>

  <!--
  <xi:include href=".sec-emp-intro.ptx" />
  <xi:include href=".sec-emp-next.ptx" />
  <xi:include href=".sec-emp-conc.ptx" /> 
  -->

</chapter>
