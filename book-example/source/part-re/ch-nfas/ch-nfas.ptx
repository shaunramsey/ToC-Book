<?xml version='1.0' encoding='utf-8'?>

<chapter xml:id="ch-nfas" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Non-determinsitic Finite Automata</title>
  <objectives>
    In this chapter you will learn:
     <ol>
       <li> Non-Deterministic Finite Automata (NFA) </li>
       <li> Parallelism </li>
       <li> The Power Set </li>
       <li> Strengths of NFAs </li>
     </ol>
  </objectives>
  <section xml:id="NFAs">
      <title>Non-Deterministic Finite Automata (NFA)</title>
        <p><idx>Non-Deterministic Finitie Automata (NFA)</idx> <term> Non-Determinisitic Finite Automatas (DFA)</term> are FAs where the outcome of each possible change 
          of state is not necessarily defined. Therefore, the state can drop off of the machine if a path is not specified. 
        <exploration>
          <p>
            Consider <m>M_8</m>. <m>\Sigma(M_8)=\{x, y\}</m>
            </p>
            <p>
            <image source="../generated/latex-image/FAExM8.svg" width="50%"></image>
            What is the language of <m>M_8</m> (<m>L(M_8)</m>)?
            <hint>
              <p>
                Despite being in the alphabet, <m>y</m> does not appear in the FA. What could this mean for the language?
              </p>
            </hint>
            <answer>
              <p>
                <m>L(M_8) =</m> any string with two or more <m>x</m>s and no <m>y</m>s.
              </p>
            </answer>
          </p>
        </exploration>
       </p>
       
   </section>
   
   <section xml:id="Parallelism">
    <title>Parallelism</title>
      <p>
        NFAs make it possible to exist in two states at once. This is called <idx>Parallelism</idx> <term>parallelism</term>.
        Parallelism can occur becuase a state has multiple paths for the same character or through an <idx>Empty String Transition</idx>
        <term>empty string transition</term>. When an empty string transition occurs, all applicable states exist at once. 
        <!--TODO: need some help with the wording in the last sentence.-->
      </p>
      <p>
        <m>M_9</m> is an example of parallelism caused by a character having two defined paths from the same state. Both states <m>B</m> and 
        <m>D</m> would be active if the first character of the given string was 1. 
      </p>
      <image source="../generated/latex-image/FAExM9.svg" width="50%">
	  </image>
      <p>
        There are two strategies for tracking which states you are in. The first is quite simple, track them with your fingers. The second,
        is to create a determinism table similar to that in <xref ref="DFADeterminismTable"></xref>.
      </p>
        <table xml:id="NFADeterminismTable">
          <title>Determinism Chart for <m>M_1</m></title>
            <tabular>
              <row header="yes"><cell right="medium" bottom ="minor"> </cell><cell bottom ="minor">1</cell><cell bottom ="minor">0</cell></row>
              <row header="no"><cell right="medium"><m>A</m></cell><cell><m>\{B,D\}</m></cell><cell><m>\emptyset</m></cell></row>
              <row header="no"><cell right="medium"><m>B</m></cell><cell><m>\{B\}</m></cell><cell><m>\{C\}</m></cell></row>
              <row header="no"><cell right="medium"><m>C</m></cell><cell><m>\emptyset</m></cell><cell><m>\emptyset</m></cell></row>
              <row header="no"><cell right="medium"><m>D</m></cell><cell><m>\{E\}</m></cell><cell><m>\{D\}</m></cell></row>
              <row header="no"><cell right="medium"><m>E</m></cell><cell><m>\{E\}</m></cell><cell><m>\{E\}</m></cell></row>
            </tabular>
        </table>
      <p>
        <m>M_{10}</m> is an example of parallelism caused by an empty string transition. All states <m>A</m>, <m>B</m>, and <m>G</m> 
        exist at the start.
      </p>
      <image source="../generated/latex-image/FAExM10.svg" width="50%">
	    </image>
   </section>
   <section xml:id="PowerSet">
    <title>The Power Set</title>
      <p>
        The <idx>Power Set (P)</idx> <term>power set (P)</term> is the set of all subsets of the given states. It also includes <m>\emptyset</m>. 
      </p>
      <p>
        The power set will have as many sets in it as <m>2^n</m> with <m>n</m> being the number of states in the machine. The power set for a generic 
        machice with states <m>A</m>, <m>B</m>, and <m>C</m>. Would look like this:
      </p>
      <image source="../generated/latex-image/PowerSetMatx.svg" width="50%">
	    </image>
   </section>
   <section xml:id="StrengthsofNFAs">
    <title>Strengths of NFAs</title>
    <p>
      NFAs are ideal for languages that include a certain set of characters. Such as:
      <ul>
        <li><em>Begins with </em> 01</li>
        <li><em>Contains </em> 01 </li>
        <li><em>Ends with </em> 01 </li>
      </ul>
    </p>
   </section>

  <exercises>
    <exercise>
      <statement>
        <p>
          Build a NFA for the following language where <m>\Sigma(L_{11}) = \{0, 1\}</m>:
          <me>L_{11} = \mbox{any string that contains 01}</me>
        </p>
      </statement>
      <answer>
        <image source="../generated/latex-image/FAExM11.svg" width="50%">
	      </image>
      </answer>
    </exercise>
    <exercise>
      <statement>
        <p>
          The maximum size of the power set is <m>2^n</m> where <m>n</m> is the number of 
          states in the machine. Where does this come from?
        </p>
      </statement>
      <hint>
        <p>
          There is always a choice to be in a state or not.
        </p>
      </hint>
      <answer>
        <p>
          There are two choices with each state, whether to be in it or to not be in it. This means that there 
          are two options for each state, making the maximum size of the power set <m>2^n</m>. 
        </p>
      </answer>
    </exercise>
    <exercise>
      <statement>
        <p>
          Create a power set for a FA with the following states: <m>A</m>, <m>B</m>, <m>C</m>, and <m>D</m>.
        </p>
      </statement>
      <answer>
        <p>
          <image source="../generated/latex-image/PowerSetMatx2.svg" width="50%">
	        </image>
        </p>
      </answer>
    </exercise>
  </exercises>
    <!--
  <xi:include href=".sec-emp-intro.ptx" />
  <xi:include href=".sec-emp-next.ptx" />
  <xi:include href=".sec-emp-conc.ptx" /> 
  -->

</chapter>
